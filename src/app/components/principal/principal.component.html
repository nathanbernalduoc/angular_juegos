<div id="title" class="d-none d-md-block d-lg-block">
  <h1 class="my-btn">Nathan - Juegos de mesa</h1>
  <div class="titulo">Somos una nueva pyme con atractivos precios y productos que te dar&aacute;n
    entretenci&oacute;n todo el a&ntilde;</div>
</div>

<nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
  <div class="container-fluid">
    <a class="navbar-brand d-lg-none" href="#">Nathan</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01"
      aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" href="./index.html">Inicio
            <span class="visually-hidden">(current)</span>
          </a>
        </li>
        @for (c of categoria; track c.id) {
        <li class="nav-item">
          <button class="nav-link" (click)="goDetalle(c.link)">{{c.titulo}}</button>
        </li>
        }
        <li class="nav-item">
          <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasRegistro" role="button"
            aria-controls="offcanvasRegistro" onclick="clienteLimpiar()">
            Registro
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.google.cl/" target="_blank">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/1280px-Google_2015_logo.svg.png"
              height="20px">
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.duoc.cl" target="_blank">
            <img src="https://www.duoc.cl/wp-content/themes/wordpress-duoc-cl/images/logo-duoc.svg" height="20px">
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<h3>Categor&iacute;as</h3>

<hr>

<div class="row">

  <div *ngIf="categoria && categoria.length>0; else noData">
    <div *ngFor="let c of categoria" class="col-lg-3 col-sm-6">

      <div class="card mb-">
        <h3 class="card-header">{{c.titulo}}</h3>
        <div class="card-body">
          <h5 class="card-title">{{c.nombre}}</h5>
          <h6 class="card-subtitle text-muted">{{c.descripcion}}</h6>
        </div>
        <img src="images/{{c.imagen}}" width="100%" height="200" />
        <div class="card-body">
          <button class="card-link" (click)="goDetalle(c.link)">Ver juegos</button>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noData>
    <p>No se han encontrado categorías disponibles.</p>
  </ng-template>
</div>

<div class="row">
  <div class="col-lg-12">
    <p>Jonathan Bernal V. - Duoc &copy; 2024</p>
  </div>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasRegistro" aria-labelledby="offcanvasRegistroLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasRegistroLabel">Registro</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">

    <div>

      <form [formGroup]="miFormulario" (ngSubmit)="submitForm()">

        <fieldset>

          <legend>Datos de contacto</legend>

          <div>

            <label for="usuario" class="form-label mt-4">Nombre de usuario</label>
            <input type="text" class="form-control" id="usuario" onblur="checUser(this.value);" formControlName="user" placeholder="usuario@dominio.cl">
            <div *ngIf="miFormulario.get('user')!.touched && miFormulario.get('user')!.errors">
              <div class="alert alert-danger" *ngIf="miFormulario.get('user')!.value == ''">
                El nombre de usuario es obligatorio.
              </div>
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass')!.hasError('required') || miFormulario.get('user')!.hasError('email')">
                El nombre debe ser un email.
              </div>
            </div>

          </div>

          <div>
            <label for="contrasena1" class="form-label mt-4">Contrase&ntilde;a</label>
            <input type="password" class="form-control" id="contrasena1" formControlName="pass" maxlength="18">
            <div *ngIf="miFormulario.get('pass')!.touched && miFormulario.get('pass')!.errors">
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass')!.hasError('required')">
                La contrasdeña es obligatoria.
              </div>
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass')!.hasError('pattern')">
                La contraseña debe contener una letra mayúscula y un número.
              </div>
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass')!.value.length < 6 || miFormulario.get('pass')!.value.length > 18">
                El rango de caracteres debe ser entre 6 y 18 caracteres.
              </div>
            </div>
          </div>

          <div>
            <label for="contrasena2" class="form-label mt-4">Reingrese la contrase&ntilde;a</label>
            <input type="password" class="form-control" id="contrasena2" formControlName="pass2">
            <div *ngIf="miFormulario.get('pass2')!.touched">
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass2')!.hasError('required')">
                La contrasdeña es obligatoria.
              </div>
              <div class="alert alert-danger" *ngIf="miFormulario.get('pass2')!.value != miFormulario.get('pass')!.value">
                Las contraseñas no coinciden.
              </div>
            </div>
          </div>

          <div>
            <label for="nombre" class="form-label mt-4">Nombre completo</label>
            <input type="text" class="form-control" id="nombre" formControlName="nom">
            <div *ngIf="miFormulario.get('nom')!.touched && miFormulario.get('nom')!.errors">
              <div class="alert alert-danger" *ngIf="miFormulario.get('nom')!.hasError('required')">
                El nombre es obligatorio.
              </div>
            </div>
          </div>

          <div>
            <label for="fecha" class="form-label mt-4">Fecha de nacimiento</label>
            <input type="date" class="form-control" id="fecha" placeholder="99/99/9999" formControlName="fec">
            <div *ngIf="miFormulario.get('fec')!.touched && miFormulario.get('fec')!.errors">
              <div class="alert alert-danger" *ngIf="miFormulario.get('fec')!.hasError('required')">
                La fecha de nacimiento es obligatoria.
              </div>
            </div>
          </div>

          <div>
            <label for="direccion" class="form-label mt-4">Direcci&oacute;n de despacho</label>
            <input type="text" class="form-control" id="direccion" formControlName="dir">
          </div>

            <hr>

          <button type="submit" [disabled]="!miFormulario.valid" class="btn btn-primary">Registrar</button>
          <button type="button" class="btn btn-info" onclick="clienteLimpiar();">Limpiar</button>

          <div *ngIf="resultado !== undefined">{{resultado}}</div>

        </fieldset>

      </form>

    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="js/scripts.js"></script>